{"version":3,"sources":["reportWebVitals.ts","Components/LayoutArea/Footer/Footer.tsx","Redux/AuthState.ts","Services/Globals.ts","Services/VacationsSocket.ts","Redux/VacationsState.ts","Redux/Store.ts","Components/AuthArea/AuthMenu/AuthMenu.tsx","assets/imgs/vacation_icon.png","Components/LayoutArea/Logo/Logo.tsx","Components/LayoutArea/Header/Header.tsx","Components/LayoutArea/Menu/Menu.tsx","Services/Notify.ts","Components/AuthArea/Login/Login.tsx","Components/AuthArea/Logout/Logout.tsx","Components/AuthArea/Register/Register.tsx","Components/HomeArea/Home/Home.tsx","Components/SharedArea/PageNotFound/PageNotFound.tsx","Models/VacationsModel.ts","Services/jwtAxios.ts","Components/VacationArea/AddVacation/AddVacation.tsx","Components/VacationArea/EditVacations/EditVacations.tsx","assets/imgs/loader.gif","Components/SharedArea/Loader/Loader.tsx","Components/VacationArea/VacationDetails/VacationDetails.tsx","Components/FollowsArea/FollowersCounter/FollowersCounter.tsx","Components/FollowsArea/FollowersList/FollowersList.tsx","Components/VacationArea/VacationCard/VacationCard.tsx","Components/VacationArea/VacationList/VacationList.tsx","Components/VacationArea/VacationsChart/VacationsChart.tsx","Components/LayoutArea/Routing/Routing.tsx","Components/LayoutArea/Layout/Layout.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Footer","AuthActionType","className","target","href","Globals","globals","vacationsUrl","usersUrl","followersUrl","registerUrl","loginUrl","socketUrl","VacationsSocket","socket","undefined","this","connected","io","disconnect","AuthState","user","vacationsSocket","JSON","parse","sessionStorage","getItem","userRegisteredAction","type","UserRegistered","payload","userLoggedInAction","UserLoggedIn","userLoggedOutAction","UserLoggedOut","VacationsActionType","VacationsState","vacations","reducers","combineReducers","vacationState","currentState","action","newState","VacationsDownloaded","VacationAdded","push","VacationUpdated","indexToUpdate","findIndex","v","vacationId","VacationDeleted","indexToDelete","splice","authState","UsersDownloaded","connect","setItem","stringify","removeItem","store","createStore","AuthMenu","props","unsubscribe","state","getState","subscribe","setState","firstName","lastName","to","exact","Component","Logo","src","logoImg","Header","useEffect","refreshConnecting","refresh","window","performance","navigation","isUserConnect","Menu","notify","notification","Notyf","duration","position","x","y","message","success","err","getErrorMessage","error","console","log","response","data","Array","isArray","Login","history","useHistory","useForm","register","handleSubmit","formState","credentials","a","axios","post","dispatch","username","onSubmit","placeholder","autoFocus","required","value","minLength","errors","password","Logout","Register","Home","PageNotFound","width","height","allow","title","VacationsModel","destination","startDate","endDate","price","description","img","vacation","myFormData","FormData","append","toString","item","jwtAxios","create","interceptors","request","use","headers","token","AddVacation","virifyDate","start","end","currentDate","Date","split","currentDateStruct","getFullYear","getMonth","getDate","startDateParsed","endDateParsed","socketVacation","convertToFormData","addedVacation","emit","isAdmin","min","accept","EditVacations","location","useLocation","id","pathname","substr","lastIndexOf","useState","setVacation","send","put","updatedVacation","get","catch","map","defaultValue","Loader","loading","VacationDetails","deleteVacation","confirm","delete","admin","correntVacation","match","params","callback","length","alt","onClick","FollowersCounter","numberOfFollowers","n","numberOfUsers","FollowersList","followOnVacation","uuid","unFollowOnVacation","isFollowing","localStorage","clear","handleFollow","VacationCard","vacationName","VacationList","isThereAnyVicaion","isFollow","on","newVacation","allVacations","deletedVacation","VacationsChart","following","details","responseFollowing","forEach","domainPadding","tickValues","tickFormat","quarter","dependentAxis","Routing","path","component","from","Layout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f3c9784.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./Footer.css\";\n\nfunction Footer(): JSX.Element {\n    return (\n        <div className=\"Footer\">\n            <div>\n                <p>All Rights Reserved -  <a target=\"@\" href=\"https://github.com/odaiwa\">Odai Wattad</a> &copy;</p>\n            </div>\n\n\n        </div>\n    );\n}\n\nexport default Footer;\n","import UserModel from \"../Models/UserModel\";\r\nimport VacationsSocket from \"../Services/VacationsSocket\";\r\n\r\n// Auth State: \r\nexport class AuthState {\r\n    public user: UserModel = null;\r\n\r\n    // VacationsSocketService:\r\n    public vacationsSocket: VacationsSocket = new VacationsSocket();\r\n    \r\n    public constructor() {\r\n        const user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (user) {\r\n            this.user = user;\r\n        }\r\n    }\r\n}\r\n\r\n// Auth Action Types: \r\nexport enum AuthActionType {\r\n    UsersDownloaded = \"UsersDownloaded\",\r\n    UserRegistered = \"UserRegistered\",\r\n    UserLoggedIn = \"UserLoggedIn\",\r\n    UserLoggedOut = \"UserLoggedOut\"\r\n}\r\n\r\n// Auth Action: \r\nexport interface AuthAction {\r\n    type: AuthActionType;\r\n    payload?: any;\r\n}\r\n\r\n\r\n\r\n\r\n// Auth Action Creators: \r\nexport function usersDownloadedAction(user: UserModel): AuthAction {\r\n    return { type: AuthActionType.UsersDownloaded, payload: user };\r\n}    \r\nexport function userRegisteredAction(user: UserModel): AuthAction {\r\n    return { type: AuthActionType.UserRegistered, payload: user };\r\n}\r\nexport function userLoggedInAction(user: UserModel): AuthAction {\r\n    return { type: AuthActionType.UserLoggedIn, payload: user };\r\n}\r\nexport function userLoggedOutAction(): AuthAction {\r\n    return { type: AuthActionType.UserLoggedOut };\r\n}\r\n\r\n// Auth Reducer: \r\nexport function authReducer(currentState: AuthState = new AuthState(), action: AuthAction): AuthState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n\r\n    switch (action.type) {\r\n        case AuthActionType.UsersDownloaded: // payload = all vacations\r\n        newState.user = action.payload;\r\n        break;\r\n        case AuthActionType.UserRegistered:\r\n        case AuthActionType.UserLoggedIn:\r\n            newState.user = action.payload;\r\n            newState.vacationsSocket.connect();\r\n            sessionStorage.setItem(\"user\", JSON.stringify(newState.user));\r\n            break;\r\n        case AuthActionType.UserLoggedOut:\r\n            newState.user = null;\r\n            newState.vacationsSocket.disconnect();\r\n            sessionStorage.removeItem(\"user\");\r\n            break;\r\n    }\r\n\r\n    return newState;\r\n}","abstract class Globals {\r\n\r\n}\r\n\r\nclass DevelopmentGlobals extends Globals {\r\n\r\n    public vacationsUrl = \"http://localhost:3001/api/vacations/\";  \r\n    public usersUrl = \"http://localhost:3001/api/users/\"; \r\n    public followersUrl = \"http://localhost:3001/api/follows/\"; \r\n    public registerUrl = \"http://localhost:3001/api/auth/register/\";\r\n    public loginUrl = \"http://localhost:3001/api/auth/login/\";\r\n    public socketUrl = \"http://localhost:3001/\";\r\n}\r\n\r\n\r\n\r\nclass ProductionGlobals extends Globals {\r\n    public vacationsUrl = \"https://vacation-rest-api.herokuapp.com/api/vacations/\";  \r\n    public usersUrl = \"https://vacation-rest-api.herokuapp.com/api/users/\"; \r\n    public followersUrl = \"https://vacation-rest-api.herokuapp.com/api/followers/\"; \r\n    public registerUrl = \"https://vacation-rest-api.herokuapp.com/api/auth/register/\";\r\n    public loginUrl = \"https://vacation-rest-api.herokuapp.com/api/auth/login/\";\r\n     public socketUrl = \"https://vacation-rest-api.herokuapp.com/\";\r\n}\r\n\r\nconst globals = process.env.NODE_ENV === \"production\" ? new ProductionGlobals() : new DevelopmentGlobals();\r\n\r\nexport default globals;","import { io, Socket } from \"socket.io-client\";\nimport globals from \"./Globals\";\n\nclass VacationsSocket {\n\n    public socket: Socket;\n\n    public connect(): void {\n        if(this.socket === undefined || !this.socket.connected){\n            this.socket = io(globals.socketUrl);\n        } \n    }\n\n    public disconnect(): void {\n        if(!this.socket || this.socket.disconnect()) return;\n        this.socket.disconnect();\n    }\n\n}\n\nexport default VacationsSocket;\n","import VacationsModel from \"../Models/VacationsModel\";\n\n\nexport class VacationsState {\n    public vacations: VacationsModel[] = []; \n}\n\n// Vacation Action Type: \nexport enum VacationsActionType {\n    VacationsDownloaded = \"VacationsDownloaded\",\n    VacationAdded = \"VacationAdded\",\n    VacationUpdated = \"VacationUpdated\",\n    VacationDeleted = \"VacationDeleted\"\n}\n\n// Vacation Action:\nexport interface VacationAction {\n    type: VacationsActionType;\n    payload?: any; \n}\n\n// Vacation Action Creators: \nexport function vacationsDownloadedAction(vacations: VacationsModel[]): VacationAction {\n    return { type: VacationsActionType.VacationsDownloaded, payload: vacations };\n}\nexport function vacationAddedAction(addedProduct: VacationsModel): VacationAction {\n    return { type: VacationsActionType.VacationAdded, payload: addedProduct };\n}\nexport function vacationUpdatedAction(updatedProduct: VacationsModel): VacationAction {\n    return { type: VacationsActionType.VacationUpdated, payload: updatedProduct };\n}\nexport function vacationDeletedAction(id: number): VacationAction {\n    return { type: VacationsActionType.VacationDeleted, payload: id };\n}\n\n// Vacation Reducer: \nexport function vacationsReducer(currentState: VacationsState = new VacationsState(), action: VacationAction): VacationsState {\n\n    const newState = { ...currentState };\n\n    switch (action.type) {\n\n        case VacationsActionType.VacationsDownloaded: // payload = all vacations\n            newState.vacations = action.payload;\n            break;\n\n        case VacationsActionType.VacationAdded: // payload = added vacation\n            newState.vacations.push(action.payload);\n            break;\n\n        case VacationsActionType.VacationUpdated: // payload = updated vacation\n            const indexToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload.vacationId);\n            newState.vacations[indexToUpdate] = action.payload;\n            break;\n\n        case VacationsActionType.VacationDeleted: // payload = vacation id to delete\n            const indexToDelete = newState.vacations.findIndex(v => v.vacationId === action.payload);\n            newState.vacations.splice(indexToDelete, 1);\n            break;\n    }\n\n    return newState;\n\n}","import { combineReducers, createStore } from \"redux\";\nimport { authReducer } from './AuthState';\nimport { vacationsReducer } from \"./VacationsState\";\n\nconst reducers = combineReducers({ vacationState: vacationsReducer, authState: authReducer });\nconst store = createStore(reducers);\n\nexport default store;","import { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Unsubscribe } from \"redux\";\nimport UserModel from \"../../../Models/UserModel\";\nimport store from \"../../../Redux/Store\";\nimport \"./AuthMenu.css\";\n\ninterface AuthMenuState {\n    user: UserModel;\n}\n\n\nclass AuthMenu extends Component<{}, AuthMenuState> {\n\n    private unsubscribe: Unsubscribe;\n\n    public constructor(props: {}) {\n        super(props);\n        this.state = { user: store.getState().authState.user };\n    }\n\n    public componentDidMount(): void {\n        this.unsubscribe = store.subscribe(() => this.setState({ user: store.getState().authState.user }));\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"AuthMenu\">\n                {\n                this.state.user &&\n                <>\n                    <span>Hello {this.state.user.firstName + \" \" + this.state.user.lastName}</span>\n                    <span> | </span>\n                    <NavLink to=\"/logout\" exact>Log out</NavLink>\n                </>\n                }\n                {\n                    !this.state.user &&\n                    <>\n                        <span>Hello Guest</span>\n                        <span> | </span>\n                        <NavLink to=\"/login\" exact>Log in</NavLink>\n                        <span> | </span>\n                        <NavLink to=\"/register\" exact>Register</NavLink>\n                    </>\n                }\n            </div>\n        );\n    }\n}\n\nexport default AuthMenu;\n","export default __webpack_public_path__ + \"static/media/vacation_icon.d0447fc5.png\";","import \"./Logo.css\";\nimport logoImg from \"../../../assets/imgs/vacation_icon.png\"\nfunction Logo(): JSX.Element {\n    return (\n        <div className=\"Logo\">\n                <img src={logoImg} />\n        </div>\n    );\n}\n\nexport default Logo;\n","// import AuthMenu from \"../../AuthArea/AuthMenu/AuthMenu\";\r\nimport { useEffect } from \"react\";\r\nimport store from \"../../../Redux/Store\";\r\nimport AuthMenu from \"../../AuthArea/AuthMenu/AuthMenu\";\r\nimport Logo from \"../Logo/Logo\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header(): JSX.Element {\r\n\r\n    useEffect(() => {\r\n        refreshConnecting();\r\n    });    \r\n    \r\n    const refreshConnecting = () => {\r\n        const refresh = window.performance.navigation.type;\r\n        const isUserConnect = store.getState().authState.user;\r\n        if (refresh && isUserConnect) {\r\n            store.getState().authState.vacationsSocket.connect();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshConnecting();\r\n    });    \r\n\r\n    \r\n    return (\r\n        <div className=\"Header\">\r\n            <Logo/>\r\n            <AuthMenu/>\r\n\t\t\t<h1>Best Vacations Website</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport \"./Menu.css\";\r\n\r\n\r\nfunction Menu(): JSX.Element {\r\n\r\n\r\n    return (\r\n        <div className=\"Menu\">\r\n            <NavLink to=\"/home\">Home</NavLink>\r\n            <NavLink to=\"/vacations\">Vacations</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Menu;\r\n","import { Notyf } from \"notyf\";\r\n\r\nclass Nofity {\r\n    private notification = new Notyf({ duration: 10000, position: { x: \"left\", y: \"top\" } });\r\n\r\n    public success(message: string): void {\r\n        this.notification.success(message);\r\n    }\r\n\r\n    public error(err: any): void {\r\n        const message = this.getErrorMessage(err);\r\n        this.notification.error(message);\r\n    }\r\n\r\n    private getErrorMessage(err: any) {\r\n        console.log( err);\r\n        if (typeof err === \"string\") {\r\n            return err;\r\n        }\r\n        if (typeof err.response?.data === \"string\") {\r\n            return err.response.data;\r\n        }\r\n        if (Array.isArray(err.response?.data)) {\r\n            return err.response.data[0];\r\n        }\r\n        if (typeof err.message === \"string\") {\r\n            return err.message;\r\n        }\r\n        return \"some error occurred, please try again\";\r\n    }\r\n}\r\n\r\nconst notify = new Nofity();\r\n\r\nexport default notify;","import { NavLink } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport notify from \"../../../Services/Notify\";\nimport UserModel from \"../../../Models/UserModel\";\nimport CredentialsModel from \"../../../Models/CredentialsModel\";\nimport globals from \"../../../Services/Globals\";\nimport axios from \"axios\";\nimport store from \"../../../Redux/Store\";\nimport \"./Login.css\";\nimport { useForm } from \"react-hook-form\";\nimport { userLoggedInAction } from \"../../../Redux/AuthState\";\nimport { useEffect } from \"react\";\n\nfunction Login(): JSX.Element {\n\n    useEffect(()=>{\n        if(store.getState().authState.user){\n            history.push(\"/home\");\n            notify.error(\"You are already logged in!\");\n            return;\n        }\n\n    });    \n\n    const history = useHistory();\n    const { register, handleSubmit, formState } = useForm<CredentialsModel>();\n\n    async function submit(credentials: CredentialsModel) {\n        try {\n            const response = await axios.post<UserModel>(globals.loginUrl, credentials);\n            store.dispatch(userLoggedInAction(response.data));\n            notify.success(`${credentials.username} LoggedIn successfully`)\n            history.push(\"/home\");\n        }\n        catch (err) {\n            notify.error(err);\n        }\n    }\n\n    return (\n        <div className=\"Login\">\n\n            <form onSubmit={handleSubmit(submit)}>\n                <h2>Sign In</h2>\n\n                <div className=\"form-group\">\n                    <label>Username :</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter username\" autoFocus {...register(\"username\", {\n                        required: { value: true, message: \"Missing username.\" }, minLength: { value: 4, message: \"Username too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.username?.message}</span>\n\n                <div className=\"form-group\">\n                    <label>Password :</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" }, minLength: { value: 6, message: \"password too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.password?.message}</span>\n\n\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">Submit</button>\n                <p className=\"forgot-password text-right\">\n                    <NavLink to=\"/register\">New Account </NavLink>\n                </p>\n            </form>\n\n        </div>\n    );\n}\n\nexport default Login;\n","\nimport { useEffect } from \"react\";\nimport store from \"../../../Redux/Store\";\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\nimport { useHistory } from \"react-router\";\nimport notify from \"../../../Services/Notify\";\n\n\nfunction Logout(): JSX.Element {\n    const history = useHistory();\n    useEffect(() => {\n\n\n\n        store.dispatch(userLoggedOutAction());\n        notify.success(\"Logged-out successfully.\");\n        history.push(\"/home\");\n\n    });\n    return null;\n}\n\nexport default Logout;\n","import \"./Register.css\";\nimport { useForm } from \"react-hook-form\";\nimport UserModel from \"../../../Models/UserModel\";\nimport globals from \"../../../Services/Globals\";\nimport axios from \"axios\";\nimport notify from \"../../../Services/Notify\";\nimport { useHistory } from \"react-router\";\nimport { NavLink } from \"react-router-dom\";\nimport store from \"../../../Redux/Store\";\nimport { userRegisteredAction } from \"../../../Redux/AuthState\";\nimport { useEffect } from \"react\";\n\n\n\n\nfunction Register(): JSX.Element {\n\n    useEffect(()=>{\n        if(store.getState().authState.user){\n            history.push(\"/home\");\n            notify.error(\"You are already logged in!\");\n            return;\n        }\n\n    });    \n    const history = useHistory();\n\n    async function submit(user: UserModel) {\n        try {\n            const response = await axios.post<UserModel>(globals.registerUrl, user);\n            store.dispatch(userRegisteredAction(response.data));\n            notify.success(\"You have been successfully registered.\");\n            history.push(\"/home\");\n        }\n        catch (err) {\n            notify.error(err);\n        }\n    }\n\n    const { register, handleSubmit, formState } = useForm<UserModel>();\n\n    return (\n        <div className=\"Register\">\n            <h2>Register Form</h2>\n            <form onSubmit={handleSubmit(submit)}>\n\n                <div className=\"form-group\">\n                    <label>First name</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"First name\" autoFocus {...register(\"firstName\", {\n                        required: { value: true, message: \"Missing first name.\" }, minLength: { value: 2, message: \"First name too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.firstName?.message}</span>\n\n                <div className=\"form-group\">\n                    <label>Last name</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Last name\" {...register(\"lastName\", {\n                        required: { value: true, message: \"Missing last name.\" }, minLength: { value: 2, message: \"Last name too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.lastName?.message}</span>\n\n\n                <div className=\"form-group\">\n                    <label>username:</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"username\" {...register(\"username\", {\n                        required: { value: true, message: \"Missing username.\" }, minLength: { value: 4, message: \"Username too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.username?.message}</span>\n\n\n                <div className=\"form-group\">\n                    <label>password:</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"password\" {...register(\"password\", {\n                        required: { value: true, message: \"Missing password.\" }, minLength: { value: 4, message: \"password too short.\" }\n                    })} />\n                </div>\n                <span>{formState.errors.password?.message}</span>\n                <button className=\"btn btn-primary btn-block\">Register</button>\n                {/* <NavLink to=\"/login\"><PermIdentityIcon/> Already exist account? </NavLink> */}\n                <p className=\"forgot-password text-right\">\n                    Already registered <NavLink to=\"/login\">sign in?</NavLink>\n                </p>\n\n            </form>\n        </div>\n    );\n}\n\nexport default Register;\n","import \"./Home.css\";\n\nfunction Home(): JSX.Element {\n    return (\n        <div className=\"Home\">\n            <div className=\"HomeDescription\">\n                <h3>\n                    <b>About me :</b>\n                </h3>\n                <p>\n                    <h4>Odai Wattad</h4>a 22 years old software Engineer from Jatt,\n                    about to finish my B.Sc. in SCE.<br />\n                    Currently learning full-stack development in John Bryce\n                </p>\n            </div>\n            <div className=\"HomeDescription\">\n                <h3>\n                    <b> About the website:</b>\n                </h3>\n                <p>\n                    The website manager vacations you can follow vacations look for pricing and dates.<br /> <br />\n                    ⁕ <b>Home Page</b> where you're currently reading.<br />\n                    ⁕ <b>Vacations</b> where you can see every think about the vacations.<br />\n                </p>\n            </div>\n            <div className=\"HomeDescription\">\n                <h3><b>Technologies used to develope the website: </b></h3>\n                <dl>\n                    <dt>Front end</dt>\n                    <dd>- React</dd>\n                    <dt>Back end</dt>\n                    <dd>- NodeJs</dd>\n                    <dt>Database</dt>\n                    <dd>- MySQL</dd>\n                </dl>\n                <p>for state management we used <b>Redux</b></p>\n                <p>for Authentication we used <b>JWT</b></p>\n                <p>for notifications we used <b>Notyf</b> Library</p>\n            </div>\n            <div className=\"HomeDescription\">\n                <h3><b> Contact me:</b></h3>\n                <p>\n                    Email: odaiwa12@gmail.com, or visit my own website <a href=\"https://www.odaiwa.com\">Here</a>(Currently nothing in there 😆)\n                </p>\n                <div className=\"noBlock\">\n                    <p><a href=\"https://www.linkedin.com/in/odaiwa\">LinkedIn</a></p>\n                </div>\n                <span> | </span>\n                <div className=\"noBlock\">\n                    <p><a href=\"https://www.github.com/odaiwa\">GitHub</a></p>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Home;\n","import \"./PageNotFound.css\";\n\nfunction PageNotFound(): JSX.Element {\n    return (\n        <div className=\"PageNotFound\">\n            <h2>The page you are looking for doesn't exist.</h2>\n            <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1\" allow=\"autoplay\" title=\"Page not Found\"></iframe>\n        </div>\n    );\n}\n\nexport default PageNotFound;\n","class VacationsModel {\n    public vacationId: number;\n    public destination: string;\n    public startDate: string;\n    public endDate: string;\n    public price: number;\n    public description: string;\n    public img: FileList;\n\n    public static convertToFormData(vacation: VacationsModel): FormData {\n\n        const myFormData = new FormData();\n        myFormData.append(\"destination\", vacation.destination);\n        myFormData.append(\"startDate\", vacation.startDate);\n        myFormData.append(\"endDate\", vacation.endDate);\n        myFormData.append(\"price\", vacation.price.toString());\n        myFormData.append(\"description\", vacation.description);\n        myFormData.append(\"img\", vacation.img.item(0));\n        return myFormData;\n    }\n}\n\nexport default VacationsModel;\n","import axios from 'axios';\r\nimport store from '../Redux/Store';\r\n\r\nconst jwtAxios = axios.create(); // Create a new axios object\r\n\r\njwtAxios.interceptors.request.use(request => {\r\n    if(store.getState().authState.user) {\r\n        request.headers = {\r\n            \"authorization\": \"Bearer \" + store.getState().authState.user.token\r\n        };\r\n    }\r\n    return request;\r\n});\r\n\r\nexport default jwtAxios;","\r\nimport { useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport VacationsModel from \"../../../Models/VacationsModel\";\r\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\r\nimport store from \"../../../Redux/Store\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport \"./AddVacation.css\";\r\n\r\nfunction AddVacation(): JSX.Element {\r\n\r\n    const history = useHistory();\r\n    const { register, handleSubmit, formState } = useForm<VacationsModel>();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!store.getState().authState.user) {\r\n            history.push(\"/login\");\r\n            notify.error(\"You are not logged in!\");\r\n            return;\r\n        }\r\n        if (!store.getState().authState.user.isAdmin) {\r\n            history.push(\"/home\");\r\n            notify.error(\"You are not authorized to do add vacation!\");\r\n            return;\r\n        }\r\n    });\r\n\r\n    function virifyDate(start: string, end: string): boolean {\r\n        const currentDate = new Date();\r\n\r\n        const startDate = start.split(\"-\");\r\n        const endDate = end.split(\"-\");\r\n\r\n        const currentDateStruct = {\r\n            year: +currentDate.getFullYear(),\r\n            month: +currentDate.getMonth() + 1,\r\n            day: +currentDate.getDate()\r\n        }\r\n        const startDateParsed = {\r\n            year: +startDate[0],\r\n            month: +startDate[1],\r\n            day: +startDate[2]\r\n        }\r\n        const endDateParsed = {\r\n            year: +endDate[0],\r\n            month: +endDate[1],\r\n            day: +endDate[2]\r\n        }\r\n        if (startDateParsed.year < currentDateStruct.year) {\r\n            return false;\r\n        } else if (startDateParsed.year === currentDateStruct.year) {\r\n            if (startDateParsed.month < currentDateStruct.month) {\r\n                return false;\r\n            } else if (startDateParsed.month === currentDateStruct.month) {\r\n                if (startDateParsed.day < currentDateStruct.day) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (startDateParsed.year > endDateParsed.year) {\r\n            return false;\r\n        } else if (startDateParsed.year === endDateParsed.year) {\r\n            if (startDateParsed.month > endDateParsed.month) {\r\n                return false;\r\n            } else if (startDateParsed.month === endDateParsed.month) {\r\n                if (startDateParsed.day > endDateParsed.day) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    async function send(vacation: VacationsModel) {\r\n        try {\r\n            if (!virifyDate(vacation.startDate, vacation.endDate)) {\r\n                notify.error(\"wrong date\");\r\n                return;\r\n            }\r\n            const socketVacation = store.getState().authState.vacationsSocket.socket;\r\n            const response = await jwtAxios.post<VacationsModel>(globals.vacationsUrl, VacationsModel.convertToFormData(vacation));\r\n            const addedVacation = response.data;\r\n            socketVacation.emit(\"add-vacation-from-client\", addedVacation);\r\n            notify.success(\"Vacation has been added.\");\r\n            history.push(\"/vacations\");\r\n        }\r\n        catch (err) {\r\n            notify.error(err);\r\n            if (err === \"Your login session has expired.\") {\r\n                store.dispatch(userLoggedOutAction());\r\n                history.push(\"/login\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"AddVacation\">\r\n            <form onSubmit={handleSubmit(send)}>\r\n                <div className=\"form-group\">\r\n\r\n                    <label>Destination</label>\r\n                    <input type=\"text\"  {...register(\"destination\",\r\n                        { required: true, minLength: 2 })} className=\"form-control\" placeholder=\"destination\" autoFocus />\r\n                </div>\r\n                {formState.errors.destination?.type === \"required\" && <span>Missing destination.</span>}\r\n                {formState.errors.destination?.type === \"minLength\" && <span>destination too short.</span>}\r\n\r\n                <div className=\"form-group\">\r\n\r\n                    <label>Start Date:</label>\r\n                    <input type=\"date\" className=\"form-control\" {...register(\"startDate\", { required: true })} placeholder=\"Start Date\" />\r\n                </div>\r\n                {formState.errors.startDate?.type === \"required\" && <span>Missing Start Date.</span>}\r\n\r\n                <div className=\"form-group\">\r\n                    <label>End Date:</label>\r\n                    <input type=\"date\" className=\"form-control\"{...register(\"endDate\", { required: true })} placeholder=\"End Date\" />\r\n                </div>\r\n                {formState.errors.endDate?.type === \"required\" && <span>Missing endDate.</span>}\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Price: </label>\r\n                    <input type=\"number\" className=\"form-control\" {...register(\"price\", { required: true, minLength: 1, min: 0 })} placeholder=\"price\" />\r\n                </div>\r\n                {formState.errors.price?.type === \"required\" && <span>Missing price.</span>}\r\n                {formState.errors.price?.type === \"minLength\" && <span>Price too short.</span>}\r\n                {formState.errors.price?.type === \"min\" && <span>price cannot be negative.</span>}\r\n\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Description: </label><br />\r\n                    <textarea {...register(\"description\", { required: true, minLength: 2 })} placeholder=\"description\" />\r\n                </div>\r\n                {formState.errors.description?.type === \"required\" && <span>Missing description.</span>}\r\n                {formState.errors.description?.type === \"minLength\" && <span>description too short.</span>}\r\n                <br />\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Image: </label> <br />\r\n                    <input type=\"file\" accept=\"image/*\" {...register(\"img\", { required: true })} />\r\n                </div>\r\n                {formState.errors.img?.type === \"required\" && <span>Missing image.</span>}\r\n                <button>Add</button>\r\n\r\n                <p className=\"forgot-password text-right\">\r\n                    <NavLink to=\"/vacations\">Don't want to Add? Back to List </NavLink>\r\n                </p>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddVacation;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport VacationsModel from \"../../../Models/VacationsModel\";\r\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\r\nimport store from \"../../../Redux/Store\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport \"./EditVacations.css\";\r\n\r\n\r\nfunction EditVacations(): JSX.Element {\r\n\r\n    const location = useLocation();\r\n    const id = location.pathname.substr(location.pathname.lastIndexOf(\"/\") + 1);\r\n\r\n    const history = useHistory();\r\n    const {register, handleSubmit, formState: { errors } } = useForm<VacationsModel>();\r\n    const [vacation, setVacation] = useState<VacationsModel[]>([]);\r\n\r\n    function virifyDate(start: string, end: string): boolean {\r\n        const currentDate = new Date();\r\n\r\n        const startDate = start.split(\"-\");\r\n        const endDate = end.split(\"-\");\r\n\r\n        const currentDateStruct = {\r\n            year: +currentDate.getFullYear(),\r\n            month: +currentDate.getMonth() + 1,\r\n            day: +currentDate.getDate()\r\n        }\r\n        const startDateParsed = {\r\n            year: +startDate[0],\r\n            month: +startDate[1],\r\n            day: +startDate[2]\r\n        }\r\n        const endDateParsed = {\r\n            year: +endDate[0],\r\n            month: +endDate[1],\r\n            day: +endDate[2]\r\n        }\r\n        if (startDateParsed.year < currentDateStruct.year) {\r\n            return false;\r\n        } else if (startDateParsed.year === currentDateStruct.year) {\r\n            if (startDateParsed.month < currentDateStruct.month) {\r\n                return false;\r\n            } else if (startDateParsed.month === currentDateStruct.month) {\r\n                if (startDateParsed.day < currentDateStruct.day) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (startDateParsed.year > endDateParsed.year) {\r\n            return false;\r\n        } else if (startDateParsed.year === endDateParsed.year) {\r\n            if (startDateParsed.month > endDateParsed.month) {\r\n                return false;\r\n            } else if (startDateParsed.month === endDateParsed.month) {\r\n                if (startDateParsed.day > endDateParsed.day) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!store.getState().authState.user){\r\n            history.push(\"/login\");\r\n            notify.error(\"You are not logged in!\");\r\n            return;\r\n        }\r\n        if(!store.getState().authState.user.isAdmin){\r\n            history.push(\"/home\");\r\n            notify.error(\"You are not authorized to do edit vacation!\");\r\n            return;\r\n        }\r\n\r\n        jwtAxios.get<VacationsModel[]>(globals.vacationsUrl + `${id}`)\r\n        .then(response => setVacation(response.data))\r\n        .catch(err=> {\r\n            notify.error(err);\r\n            if(err.response.data === \"Your login session has expired.\"){\r\n                store.dispatch(userLoggedOutAction());\r\n                history.push(\"/login\");\r\n            }\r\n        });\r\n    },[]);    \r\n\r\n    async function send(vacation: VacationsModel) {\r\n        try {\r\n            if (!virifyDate(vacation.startDate, vacation.endDate)) {\r\n                notify.error(\"wrong date\");\r\n                return;\r\n            }\r\n            const socketVacation = store.getState().authState.vacationsSocket.socket;\r\n            const response = await jwtAxios.put<VacationsModel>(globals.vacationsUrl + `${id}`, VacationsModel.convertToFormData(vacation) );\r\n            const updatedVacation = response.data; // The added Vacation in the backend.            \r\n\r\n            socketVacation.emit(\"update-vacation-from-client\", updatedVacation);\r\n            notify.success(\"Vacation has been Edit.\");\r\n            history.push(\"/vacations\"); // Go to that route!\r\n        }\r\n        catch (err) {\r\n            notify.error(err);\r\n            if(err === \"Your login session has expired.\"){\r\n                store.dispatch(userLoggedOutAction());\r\n                history.push(\"/login\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"EditVacations MainComponents Box\">\r\n\r\n\r\n            <div className=\"BoxIcons\">\r\n                <NavLink to=\"/vacations\">Undo</NavLink>\r\n            </div>\r\n            {vacation.map(v => \r\n            <form onSubmit={handleSubmit(send)} key={v.vacationId}>\r\n                <label>Destination:</label>\r\n                <input type=\"text\" defaultValue={v.destination} {...register(\"destination\", { required: true , minLength: 2 })}/>\r\n                {errors.destination?.type === \"required\" && <span>Missing destination.</span>}\r\n                {errors.destination?.type === \"minLength\" && <span>destination too short.</span>}\r\n\r\n                <label>Start Date:</label>\r\n                <input type=\"date\" defaultValue={v.startDate} {...register(\"startDate\", { required: true })}  />\r\n                {errors.startDate?.type === \"required\" && <span>Missing Start Date.</span>}\r\n\r\n                <label>End Date:</label>\r\n                <input type=\"date\" defaultValue={v.endDate} {...register(\"endDate\", { required: true })}  />\r\n                {errors.endDate?.type === \"required\" && <span>Missing endDate.</span>}\r\n\r\n                <label>Price:</label>\r\n                <input type=\"number\" defaultValue={v.price} {...register(\"price\", { required: true , minLength: 1 })}  />\r\n                {errors.price?.type === \"required\" && <span>Missing price.</span>}\r\n                {errors.price?.type === \"minLength\" && <span>Price too short.</span>}\r\n\r\n                <label>Description:</label>\r\n                <textarea defaultValue={v.description} {...register(\"description\", { required: true , minLength: 2 })} ></textarea>\r\n                {errors.description?.type === \"required\" && <span>Missing description.</span>}\r\n                {errors.description?.type === \"minLength\" && <span>Description too short.</span>}\r\n\r\n                <label>Image: </label> \r\n                <input type=\"file\" accept=\"image/*\" {...register(\"img\")}  />\r\n\r\n                <button>Update</button>\r\n            </form>\r\n            )}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditVacations;\r\n","export default __webpack_public_path__ + \"static/media/loader.842b5575.gif\";","import \"./Loader.css\";\nimport loading from \"../../../assets/imgs/loader.gif\";\n\nfunction Loader(): JSX.Element {\n    return (\n        <div className=\"Loader\">\n            <img src={loading} />\n\n        </div>\n    );\n}\n\nexport default Loader;\n","import { Component } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport VacationsModel from \"../../../Models/VacationsModel\";\r\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\r\nimport store from \"../../../Redux/Store\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport Loader from \"../../SharedArea/Loader/Loader\";\r\nimport \"./VacationDetails.css\";\r\n\r\n\r\ninterface RouteParams {\r\n    id: string;\r\n}\r\n\r\ninterface VacationDetailsProps extends RouteComponentProps<RouteParams> { }\r\n\r\n\r\ninterface VacationDetailsState {\r\n    vacations: VacationsModel[];\r\n    id: number;\r\n    admin: number;\r\n    correntVacation:string;\r\n}\r\n\r\nclass VacationDetails extends Component<VacationDetailsProps, VacationDetailsState> {\r\n\r\n    public constructor(props: VacationDetailsProps) {\r\n        super(props);\r\n        this.state = { vacations: [], id: 0, admin: 0,correntVacation:\"\" };\r\n    }\r\n\r\n\r\n    public async componentDidMount() {\r\n        try {\r\n            const vacationId = +this.props.match.params.id;\r\n            this.setState({correntVacation:globals.vacationsUrl+vacationId});\r\n            const response = await jwtAxios.get<VacationsModel[]>(globals.vacationsUrl + vacationId);\r\n            this.setState({ vacations: response.data, id: vacationId, admin: store.getState().authState.user.isAdmin });\r\n        }\r\n        catch (err) {\r\n            notify.error(err);\r\n             if(err === \"Your login session has expired.\"){\r\n                 store.dispatch(userLoggedOutAction());\r\n                 this.props.history.push(\"/login\");\r\n             }\r\n        }\r\n    }\r\n\r\n    public async componentWillUnmount() {\r\n        this.setState = (state, callback) => {\r\n            return;\r\n        };\r\n    }\r\n\r\n    public deleteVacation = async () => {\r\n        try {\r\n            const ok = window.confirm(\"Are you sure?\");\r\n            if (!ok) return;\r\n            await jwtAxios.delete(globals.vacationsUrl + this.state.id);\r\n            notify.success(`Vacation has beeb deleted!`);\r\n            this.props.history.push(\"/vacations\");\r\n        }\r\n        catch (err) {\r\n            notify.error(\"Error\" + err);\r\n        }\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div className=\"MainComponents Box VacationDetails\">\r\n                {this.state.vacations.length === 0 && <Loader />}\r\n                {this.state.vacations.map(v =>\r\n                    <div key={v.vacationId}>\r\n                        <div className=\"BoxIcons\">\r\n                            <NavLink to=\"/vacations\"></NavLink>\r\n                            {this.state.admin === 1 && <NavLink to={`/vacations/edit/${v.vacationId}`}> </NavLink>}\r\n                        </div>\r\n                        <h2>{v.destination}</h2>\r\n                        <div>\r\n                            <label>From: </label>\r\n                            <span> {v.startDate}</span>\r\n                            <br />\r\n                            <label>Until: </label>\r\n                            <span> {v.endDate}</span>\r\n                            <br />\r\n                            <label>Price: </label>\r\n                            <span> {v.price} $</span>\r\n                            <p>{v.description}</p>\r\n                            <img alt=\"#\" src={globals.vacationsUrl + \"images/\" + v.img} />\r\n                        </div>\r\n                        {this.state.admin === 1 && <div>\r\n                            \r\n                            <span >  <button className=\"Btn\"> <NavLink to={`/vacations/edit/${this.state.id}`}>Edit </NavLink></button></span>\r\n                            <span onClick={() => this.deleteVacation()}> <button className=\"Btn\" >Delete </button></span>\r\n                        </div>}\r\n                        <NavLink to=\"/vacations\">Back to List</NavLink>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default VacationDetails;\r\n","import { Component } from \"react\";\r\nimport FollowersModel from \"../../../Models/FollowersModel\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport \"./FollowersCounter.css\";\r\n\r\ninterface FollowersCounterProps {\r\n    vacationId?: number;\r\n}\r\n\r\ninterface FollowersCounterState {\r\n    numberOfFollowers: FollowersModel[];\r\n}\r\n\r\nclass FollowersCounter extends Component<FollowersCounterProps, FollowersCounterState> {\r\n\r\n    public constructor(props: FollowersCounterProps) {\r\n        super(props);\r\n        this.state = { numberOfFollowers: [] };\r\n    }\r\n\r\n    public async componentDidMount() {\r\n        try {\r\n            const response = await jwtAxios.get<FollowersModel[]>(globals.followersUrl + \"user-count\");\r\n            this.setState({ numberOfFollowers: response.data });\r\n        }\r\n        catch (err) {\r\n            notify.error(err);\r\n        }\r\n    }\r\n\r\n\r\n    public async componentWillUnmount() {\r\n        this.setState = (state, callback) => {\r\n            return;\r\n        };\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div className=\"FollowersCounter\">\r\n                <span>Followers: </span> {this.state.numberOfFollowers.map(n => n.vacationId === this.props.vacationId && <div className=\"FollowersIcon\" key={n.vacationId}>{+n.numberOfUsers}</div>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FollowersCounter;\r\n","import { Component } from \"react\";\nimport \"./FollowersList.css\";\nimport globals from \"../../../Services/Globals\";\nimport jwtAxios from \"../../../Services/jwtAxios\";\nimport notify from \"../../../Services/Notify\";\nimport FollowersModel from \"../../../Models/FollowersModel\";\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\nimport { History } from \"history\";\nimport store from \"../../../Redux/Store\";\nimport FollowersCounter from \"../FollowersCounter/FollowersCounter\";\n\ninterface FollowersListProps {\n    uuid?: string;\n\tvacationId?: number;\n    history?: History;\n}\n\ninterface FollowersListState {\n\tisFollowing: boolean;\n}\n\nclass FollowersList extends Component<FollowersListProps, FollowersListState> {\n\n    public constructor(props: FollowersListProps) {\n        super(props);\n        this.state = { isFollowing: false };\n    }\n\n    public async componentDidMount() {\n        this.handleFollow();\n    }\n    \n    public async handleFollow() {\n        try{\n            // http://localhost:3001/api/follows/uuid/vacationId\n            const response = await jwtAxios.get<FollowersModel>(globals.followersUrl+ this.props.uuid+ \"/\" +this.props.vacationId);\n            const followList = response.data;\n            if (followList){\n                this.setState({ isFollowing: true })\n            }\n        }   \n        catch(err){\n            notify.error(err);\n            if(err === \"Your login session has expired.\"){\n                store.dispatch(userLoggedOutAction());\n                this.props.history.push(globals.socketUrl);\n            }\n        } \n    }\n    public followOnVacation = async ()=> {\n        await jwtAxios.post(globals.followersUrl + this.props.uuid  + \"/\" + this.props.vacationId );\n        notify.success(\"started Following Vacation\"); \n    }\n    public unFollowOnVacation = async ()=>  {\n        await jwtAxios.delete(globals.followersUrl + this.props.uuid + \"/\" + this.props.vacationId );\n        notify.success(\"UnFollowing Vacation\");\n\n    }\n \n    public isFollowing = async()=> {\n        await this.setState({ isFollowing: !this.state.isFollowing });\n        if(this.state.isFollowing){\n            this.followOnVacation();\n        }\n        else{\n            this.unFollowOnVacation();\n            localStorage.clear();\n        }\n    }\n\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"FollowersList\">\n                <div onClick={this.isFollowing}>\n                <footer className=\"w3-container w3-blue\">\n                    {this.state.isFollowing === false && <button className=\"FollowButton\">Follow</button>}\n                    {this.state.isFollowing === true && <button className=\"FollowButton\">UnFollow</button>}\n                            </footer>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default FollowersList;\n","import { NavLink, useHistory } from \"react-router-dom\";\r\nimport VacationsModel from \"../../../Models/VacationsModel\";\r\nimport store from \"../../../Redux/Store\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport FollowersCounter from \"../../FollowsArea/FollowersCounter/FollowersCounter\";\r\nimport FollowersList from \"../../FollowsArea/FollowersList/FollowersList\";\r\nimport \"./VacationCard.css\";\r\n\r\ninterface VacationCardProps {\r\n    vacation?: VacationsModel;\r\n    followers?: number;\r\n    admin?: number;\r\n}\r\n\r\nfunction VacationCard(props: VacationCardProps): JSX.Element {\r\n\r\n\r\n    const history = useHistory();\r\n    const deleteVacation = async () => {\r\n        try {\r\n            const socketVacation = store.getState().authState.vacationsSocket.socket;\r\n            const ok = window.confirm(\"Are you sure?\");\r\n            if (!ok) return;\r\n            const vacationName = props.vacation.destination;\r\n            await jwtAxios.delete(globals.vacationsUrl + props.vacation.vacationId);\r\n            socketVacation.emit(\"delete-vacation-from-client\", props.vacation.vacationId);\r\n            notify.success(`Vacation to ${vacationName} has been deleted successfully`);\r\n            history.push(\"/vacations\");\r\n        }\r\n        catch (err) {\r\n            notify.error(\"Error\" + err);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"VacationCard\">\r\n            <div>\r\n                <div className=\"dataAndPhoto\">\r\n\r\n                    <div className=\"w3-container\" key={props.vacation.vacationId}>\r\n                        <div>\r\n                            <header className=\"w3-container w3-blue\">\r\n                                <h1>{props.vacation.destination}</h1>\r\n                            </header>\r\n\r\n                            <FollowersCounter vacationId={props.vacation.vacationId}/>\r\n\r\n                            <div className=\"w3-container\">\r\n                                <label>From: </label>\r\n                                <span>{props.vacation.startDate}</span>\r\n                                <br />\r\n                                <label>Until: </label>\r\n                                <span>{props.vacation.endDate}</span>\r\n                                <br />\r\n                                <label>Price: </label>\r\n                                <span>{props.vacation.price} $</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"dataAndPhoto\">\r\n                        {<img src={globals.vacationsUrl + \"images/\" + props.vacation.img} />}\r\n                </div>\r\n\r\n                <div className=\"AllIcons\">\r\n                    <div>\r\n                        {props.admin === 1 && <div> <span><NavLink to={`/vacations/edit/${props.vacation.vacationId}`}>Edit </NavLink></span> | <span onClick={() => deleteVacation()}><NavLink to=\"/vacations\"> Delete</NavLink> </span> </div>}\r\n                        <NavLink to={`/vacations/details/${props.vacation.vacationId}`}> More Info </NavLink>\r\n                        {props.admin === 0 && <FollowersList uuid={store.getState().authState.user.uuid} vacationId={props.vacation.vacationId} />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VacationCard;\r\n","import { Component } from \"react\";\r\nimport \"./VacationList.css\";\r\nimport { History } from \"history\";\r\nimport VacationsModel from \"../../../Models/VacationsModel\";\r\nimport UserModel from \"../../../Models/UserModel\";\r\nimport store from \"../../../Redux/Store\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { vacationsDownloadedAction } from \"../../../Redux/VacationsState\";\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\r\nimport VacationCard from \"../VacationCard/VacationCard\";\r\nimport Loader from \"../../SharedArea/Loader/Loader\";\r\n\r\ninterface VacationListProps {\r\n    history: History;\r\n\r\n}\r\n\r\ninterface VacationListState {\r\n    vacations: VacationsModel[];\r\n    isThereAnyVicaion: number;\r\n    user: UserModel;\r\n    admin: number;\r\n    isFollow: boolean;\r\n}\r\n\r\nclass VacationList extends Component<VacationListProps, VacationListState> {\r\n\r\n    public async componentDidMount() {\r\n        try {\r\n            if (!store.getState().authState.user) {\r\n                this.props.history.push(\"/login\");\r\n                notify.error(\"You are not logged in!\");\r\n                return;\r\n            }\r\n\r\n            if (this.state.vacations.length === 0) {\r\n                // http://localhost:3001/api/vacations\r\n                const response = await jwtAxios.get<VacationsModel[]>(globals.vacationsUrl);\r\n                if (response.data.length === 0) {\r\n                    this.setState({ isThereAnyVicaion: 0 });\r\n                }\r\n                this.setState({ vacations: response.data, admin: this.state.user.isAdmin });\r\n                store.dispatch(vacationsDownloadedAction(response.data));\r\n            }\r\n            else {\r\n                this.setState({ admin: this.state.user.isAdmin });\r\n            }\r\n\r\n            store.getState().authState.vacationsSocket.socket.on(\"add-vacation-from-server\", newVacation => {\r\n                const allVacations = [...this.state.vacations];\r\n                allVacations.push(newVacation);\r\n                this.setState({ vacations: allVacations });\r\n            });\r\n\r\n            store.getState().authState.vacationsSocket.socket.on(\"update-vacation-from-server\", updatedVacation => {\r\n                const allVacations = [...this.state.vacations];\r\n                const indexToUpdate = allVacations.findIndex(v => v.vacationId === updatedVacation.vacationId);\r\n                allVacations[indexToUpdate] = updatedVacation;\r\n                this.setState({ vacations: allVacations });\r\n            });\r\n\r\n            store.getState().authState.vacationsSocket.socket.on(\"delete-vacation-from-server\", deletedVacation => {\r\n                const allVacations = [...this.state.vacations];\r\n                const indexToDelete = allVacations.findIndex(v => v.vacationId === deletedVacation);\r\n                allVacations.splice(indexToDelete, 1);\r\n                this.setState({ vacations: allVacations });\r\n            });\r\n\r\n\r\n\r\n        }\r\n        catch (err) {\r\n            notify.error(err);\r\n            if (err === \"Your login session has expired.\") {\r\n                this.props.history.push(\"/logout\");\r\n                store.dispatch(userLoggedOutAction());\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n    }\r\n\r\n    public constructor(props: VacationListProps) {\r\n        super(props);\r\n        this.state = {\r\n            vacations: [],\r\n            isThereAnyVicaion: 0,\r\n            user: store.getState().authState.user,\r\n            admin: 0,\r\n            isFollow: false,\r\n        };\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div className=\"VacationsList\" >\r\n                <div className=\"VacationOptions\">\r\n                    {this.state.vacations.length === 0 && <Loader />}\r\n                    {this.state.admin === 1 && <NavLink className=\"AddButton\" to=\"/vacations/new/\" ><button className=\"Btn\" >Add Vacation</button></NavLink>}\r\n                    {this.state.admin === 1 && <NavLink to=\"/vacations-chart\" ><button className=\"Btn\" >Vacations Chart</button></NavLink>}\r\n                </div>\r\n                <div>\r\n                    <p> <b>{this.state.vacations.length} vacations currently available </b></p>\r\n                </div>\r\n                {this.state.vacations.map(v => <VacationCard vacation={v} admin={this.state.admin} key={v.vacationId} />)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default VacationList;\r\n","import { Component } from \"react\";\r\nimport \"./VacationsChart.css\";\r\nimport { VictoryAxis, VictoryBar, VictoryChart } from 'victory';\r\nimport jwtAxios from \"../../../Services/jwtAxios\";\r\nimport globals from \"../../../Services/Globals\";\r\nimport FollowersModel from \"../../../Models/FollowersModel\";\r\nimport notify from \"../../../Services/Notify\";\r\nimport store from \"../../../Redux/Store\";\r\nimport { History } from \"history\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { userLoggedOutAction } from \"../../../Redux/AuthState\";\r\n\r\ninterface VacationsChartProps {\r\n    history: History;\r\n}\r\n\r\ninterface VacationsChartState {\r\n\tfollowing:  FollowersModel[];\r\n    details: any;\r\n}\r\n\r\nclass VacationsChart extends Component<VacationsChartProps, VacationsChartState> {\r\n    public constructor(props: VacationsChartProps) {\r\n        super(props);\r\n        this.state = { following: [] , details: [] };\r\n    }\r\n\r\n    public async componentDidMount() {\r\n        try {\r\n            if(!store.getState().authState.user){\r\n                this.props.history.push(\"/login\");\r\n                notify.error(\"You are not logged in!\");\r\n                return;\r\n            }\r\n            if(!store.getState().authState.user.isAdmin){\r\n                this.props.history.push(\"/vacations\");\r\n                notify.error(\"You are not authorized!\");\r\n                return;\r\n            }\r\n            if(this.state.details.length === 0) {\r\n                const responseFollowing = await jwtAxios.get<FollowersModel[]>(globals.followersUrl + \"user-count\"); \r\n                await this.setState({following: responseFollowing.data});  \r\n            \r\n                this.state.following.forEach(async v =>{\r\n                    let data = {\"quarter\" : v.destination, \"earnings\": v.numberOfUsers}\r\n                    this.state.details.push(data);\r\n                })\r\n                this.setState({details: this.state.details});\r\n            }\r\n        }\r\n        catch(err) {\r\n            notify.error(err);\r\n            if(err === \"Your login session has expired.\"){\r\n                store.dispatch(userLoggedOutAction());\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }  \r\n    }\r\n    // follow-status-vacation-from-server\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div className=\"VacationsChart MainComponents \">\r\n                <div>\r\n                    <NavLink to=\"/vacations\">Undo</NavLink>\r\n                    <h2>The top popular vacations</h2>\r\n\r\n                </div>\r\n                <div className=\" MainComponents Box\">\r\n                    <VictoryChart  domainPadding={20}>\r\n                    <VictoryAxis\r\n                        tickValues={[1, 2, 3, 4]}\r\n                        // tickFormat={[...this.state.following.map(v => v.destination )]}                 \r\n                        tickFormat={this.state.details.quarter}                 \r\n                    />\r\n                    <VictoryAxis\r\n                        dependentAxis\r\n                        tickFormat={(x) => (`${x}`)}\r\n                    />\r\n                    <VictoryBar\r\n                        data = {this.state.details}                                                        \r\n                        x=\"quarter\"\r\n                        y=\"earnings\"\r\n                    />\r\n                    </VictoryChart>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default VacationsChart;\r\n","import { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Login from \"../../AuthArea/Login/Login\";\r\nimport Logout from \"../../AuthArea/Logout/Logout\";\r\nimport Register from \"../../AuthArea/Register/Register\";\r\nimport Home from \"../../HomeArea/Home/Home\";\r\nimport PageNotFound from \"../../SharedArea/PageNotFound/PageNotFound\";\r\nimport AddVacation from \"../../VacationArea/AddVacation/AddVacation\";\r\nimport EditVacations from \"../../VacationArea/EditVacations/EditVacations\";\r\nimport VacationDetails from \"../../VacationArea/VacationDetails/VacationDetails\";\r\nimport VacationList from \"../../VacationArea/VacationList/VacationList\";\r\nimport VacationsChart from \"../../VacationArea/VacationsChart/VacationsChart\";\r\n\r\nfunction Routing(): JSX.Element {\r\n    return (\r\n        <div>\r\n            <Switch>\r\n                <Route path=\"/home\" component={Home} exact />\r\n                <Route path=\"/register\" component={Register} exact />\r\n                <Route path=\"/login\" component={Login} exact />\r\n                <Route path=\"/logout\" component={Logout} exact />\r\n                <Route path=\"/vacations\" component={VacationList} exact />\r\n                <Route path=\"/vacations/details/:id\" component={VacationDetails} exact />\r\n                <Route path=\"/vacations/new\" component={AddVacation} exact />\r\n                <Route path=\"/vacations-chart\" component={VacationsChart} exact />\r\n                <Route path=\"/vacations/edit/:id\" component={EditVacations} exact />\r\n                <Redirect from=\"/\" to=\"/home\" exact />\r\n                <Route component={PageNotFound} />\r\n            </Switch>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Routing;\r\n","import { BrowserRouter } from \"react-router-dom\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Footer from \"../Footer/Footer\";\nimport Header from \"../Header/Header\";\nimport Menu from \"../Menu/Menu\";\nimport Routing from \"../Routing/Routing\";\nimport \"./Layout.css\";\n\nfunction Layout(): JSX.Element {\n    return (\n        <BrowserRouter>\n            <div className=\"Layout\">\n                <header>\n                    <Header/>\n                </header>\n\n                <aside>\n                   <Menu/>\n                </aside>\n\n                <main>\n                    <Routing/>\n                </main>\n\n                <footer>\n                    <Footer/>\n                </footer>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default Layout;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Layout from './Components/LayoutArea/Layout/Layout';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter> <Layout /> </BrowserRouter>  \n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}